#include "stdio.h"
#include "platform_config.h"
#include "clock_print.h"
#include "interrupt.h"
#include "math.h"

/* functions */

#ifdef __GNUC__
  #define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
#else
  #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
#endif /* __GNUC__ */

int mode=0, i, j, x, y, offset_start=0, offset_finish=0;
int index=15, start=0, flag_uart=0, tmp_start=0, current=0, next=0;
int tmp_data_x_uart=0, sign=0, disp = 0, tmp=0, tmp_uart=0, tmp_uart_x = 0, tmp_uart_y = 0, tmp_uart_z = 0;
int data_x[150], data_y[150], data_z[150], data_g[150], tmp_data_x_lcd[150], tmp_data_y_lcd[150], tmp_data_z_lcd[150];
int fsync_cnt=0;
uint16_t CS=0, yadd_off;
double tmp_gal = 0;
int tmp_gal_x[150], tmp_gal_y[150], tmp_gal_z[150];
int sum_gal = 0, sum_x = 0, sum_y = 0, sum_z = 0, mean_gal = 0, mean_x = 0, mean_y = 0, mean_z = 0;
int data_x_32 = 0, data_y_32 = 0, data_z_32 = 0;
int max_gal = 0;

unsigned char intro0[1024] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFD , 0xE7 , 0x80 , 0x0C , 0x00 , 0x7F 
 , 0xFF , 0xFF , 0xFB , 0xDB , 0xFF , 0xDD , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xF7 , 0xBD , 0xFF , 0xBD , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xF7 , 0xBD , 0xFF , 0x7D , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xF7 , 0xBD , 0xFF , 0x7D , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xF7 , 0xBD , 0xFF , 0xBD , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xFB , 0x7B , 0xFF , 0xDD , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xFC , 0xF7 , 0x80 , 0x0D , 0xEF , 0x7F 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xB8 , 0x3F , 0xC3 , 0xFE , 0x1F , 0xFF 
 , 0xFF , 0xFF , 0x77 , 0xFF , 0xB5 , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0x77 , 0xFF , 0xB5 , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0x77 , 0xFF , 0xB5 , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0x77 , 0xFF , 0xB5 , 0xFD , 0xEF , 0xFF 
 , 0xF0 , 0x01 , 0x80 , 0x3F , 0xD3 , 0xFE , 0xDF , 0xFF 
 , 0xFF , 0xFB , 0xFF , 0xFF , 0xFF , 0xFC , 0x0F , 0xFF 
 , 0xFF , 0xF7 , 0xFF , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF 
 , 0xFF , 0xEF , 0xFB , 0x3F , 0xC3 , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xEF , 0xF6 , 0xDF , 0xBD , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xF7 , 0xF6 , 0xDF , 0xBD , 0xFC , 0x0F , 0xFF 
 , 0xFF , 0xFB , 0xF6 , 0xDF , 0xBD , 0xFF , 0xDF , 0xFF 
 , 0xF0 , 0x01 , 0xF6 , 0xDF , 0xBD , 0xFF , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xF9 , 0xBF , 0xDB , 0xFF , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0x81 , 0xFF , 0xEF , 0xFF 
 , 0xF8 , 0x7F , 0xFF , 0xFF , 0xBF , 0xFF , 0xDF , 0xFF 
 , 0xF7 , 0xBF , 0xFF , 0xBF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBF , 0xFF , 0xBF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBF , 0xFF , 0xBF , 0xD9 , 0xFF , 0xEF , 0xFF 
 , 0xF7 , 0xBF , 0xF8 , 0x0F , 0xB6 , 0xFF , 0xEF , 0xFF 
 , 0xFB , 0x7F , 0xF7 , 0xBF , 0xB6 , 0xFF , 0xEF , 0xFF 
 , 0xF8 , 0x3F , 0xF7 , 0xBF , 0xB6 , 0xFE , 0x03 , 0xFF 
 , 0xF7 , 0xFF , 0xFB , 0xBF , 0xB6 , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xCD , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFE , 0xEF , 0xFF 
 , 0xFC , 0xFF , 0xF8 , 0x7F , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFB , 0x7F , 0xF6 , 0xBF , 0xE1 , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBF , 0xF6 , 0xBF , 0xDF , 0xFC , 0x00 , 0x7F 
 , 0xF7 , 0xBF , 0xF6 , 0xBF , 0xBF , 0xFF , 0xDF , 0xFF 
 , 0xF7 , 0xBF , 0xF6 , 0xBF , 0xBF , 0xFF , 0xEF , 0xFF 
 , 0xFB , 0x7F , 0xFA , 0x7F , 0xBF , 0xFF , 0xEF , 0xFF 
 , 0xF0 , 0x01 , 0xFF , 0xFF , 0xDF , 0xFF , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xC1 , 0xFF , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xF0 , 0x3F , 0xBF , 0xFC , 0x1F , 0xFF 
 , 0xF8 , 0x7F , 0xFF , 0x7F , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF6 , 0xBF , 0xFF , 0xBF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF6 , 0xBF , 0xFF , 0xBF , 0x81 , 0xFF , 0x01 , 0xFF 
 , 0xF6 , 0xBF , 0xF0 , 0x7F , 0xFB , 0xFE , 0xFE , 0xFF 
 , 0xF6 , 0xBF , 0xFF , 0xBF , 0xFD , 0xFD , 0xFF , 0x7F 
 , 0xFA , 0x7F , 0xFF , 0xBF , 0xFD , 0xFD , 0xFF , 0x7F 
 , 0xFF , 0xFF , 0xF0 , 0x7F , 0xFD , 0xFD , 0xBF , 0x7F 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFB , 0xFD , 0x7F , 0x7F 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFE , 0xFE , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFD , 0x01 , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xC3 , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFF , 0x0F , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFE , 0xFF , 0xFF 
 , 0xF0 , 0x01 , 0xFF , 0xFF , 0xB5 , 0xFD , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xD3 , 0xFD , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFE , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0x81 , 0xFE , 0x0F , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFB , 0xFD , 0xFF , 0xFF 
 , 0xFB , 0x5B , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF , 0xFF 
 , 0xFC , 0xE7 , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0x83 , 0xFE , 0x1F , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFD , 0xFD , 0xEF , 0xFF 
 , 0xEE , 0x0F , 0xFF , 0xFF , 0xFD , 0xFD , 0xEF , 0xFF 
 , 0xDD , 0xFF , 0xFF , 0xFF , 0x83 , 0xFD , 0xEF , 0xFF 
 , 0xDD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFD , 0xEF , 0xFF 
 , 0xDD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFE , 0xDF , 0xFF 
 , 0xDD , 0xFF , 0xFF , 0xFF , 0xC3 , 0xFC , 0x0F , 0xFF 
 , 0xE0 , 0x0F , 0xFF , 0xFF , 0xB5 , 0xFD , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xB5 , 0xFC , 0x00 , 0x7F 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xD3 , 0xFF , 0x7F , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0x3F , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFE , 0xDF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0x81 , 0xFD , 0xEF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFB , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFD , 0xFE , 0x1F , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFD , 0xFD , 0xAF , 0xFF 
 , 0xF0 , 0x01 , 0xFF , 0xFF , 0x83 , 0xFD , 0xAF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFF , 0xFD , 0xAF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFF , 0xFD , 0xAF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFD , 0xFE , 0x9F , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFD , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xC0 , 0x7F , 0xFF , 0xFF 
 , 0xF0 , 0x01 , 0xFF , 0xFF , 0xBD , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xBD , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xDD , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xFD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFB , 0xFB , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFC , 0x07 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFD , 0xE7 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFB , 0xDB , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF7 , 0xBD , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFB , 0x7B , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFC , 0xF7 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xF0 , 0x01 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0x7D , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0x7D , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0x7D , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0x7D , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0x7D , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xBB , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xC7 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char xaxis0[1024] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF 
 , 0x84 , 0x61 , 0x04 , 0x41 , 0x00 , 0x41 , 0xFB , 0xBF 
 , 0x88 , 0x91 , 0x06 , 0x41 , 0x00 , 0x81 , 0xFD , 0x7F 
 , 0x88 , 0x91 , 0x05 , 0x41 , 0x07 , 0x01 , 0xFE , 0xFF 
 , 0x88 , 0x91 , 0x04 , 0xC1 , 0x00 , 0x81 , 0xFD , 0x7F 
 , 0x87 , 0xF1 , 0x04 , 0x41 , 0x00 , 0x41 , 0xFB , 0xBF 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x93 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA4 , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA4 , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA4 , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x99 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA0 , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBF , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA0 , 0x80 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};


unsigned char xxx0[72] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF 
 , 0x84 , 0x61 , 0x04 , 0x41 , 0x00 , 0x41 , 0xFB , 0xBF 
 , 0x88 , 0x91 , 0x06 , 0x41 , 0x00 , 0x81 , 0xFD , 0x7F 
 , 0x88 , 0x91 , 0x05 , 0x41 , 0x07 , 0x01 , 0xFE , 0xFF 
 , 0x88 , 0x91 , 0x04 , 0xC1 , 0x00 , 0x81 , 0xFD , 0x7F 
 , 0x87 , 0xF1 , 0x04 , 0x41 , 0x00 , 0x41 , 0xFB , 0xBF 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};


unsigned char yyy0[72] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF , 0x00 , 0x01 
 , 0x84 , 0x61 , 0x04 , 0x41 , 0xFF , 0xBF , 0x04 , 0x41 
 , 0x88 , 0x91 , 0x06 , 0x41 , 0xFF , 0x7F , 0x02 , 0x81 
 , 0x88 , 0x91 , 0x05 , 0x41 , 0xF8 , 0xFF , 0x01 , 0x01 
 , 0x88 , 0x91 , 0x04 , 0xC1 , 0xFF , 0x7F , 0x02 , 0x81 
 , 0x87 , 0xF1 , 0x04 , 0x41 , 0xFF , 0xBF , 0x04 , 0x41 
 , 0x80 , 0x01 , 0x00 , 0x01 , 0xFF , 0xFF , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};


unsigned char zzz0[72] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x01 , 0xFF , 0xFF , 0x00 , 0x01 , 0x00 , 0x01 
 , 0x84 , 0x61 , 0xFB , 0xBF , 0x00 , 0x41 , 0x04 , 0x41 
 , 0x88 , 0x91 , 0xF9 , 0xBF , 0x00 , 0x81 , 0x02 , 0x81 
 , 0x88 , 0x91 , 0xFA , 0xBF , 0x07 , 0x01 , 0x01 , 0x01 
 , 0x88 , 0x91 , 0xFB , 0x3F , 0x00 , 0x81 , 0x02 , 0x81 
 , 0x87 , 0xF1 , 0xFB , 0xBF , 0x00 , 0x41 , 0x04 , 0x41 
 , 0x80 , 0x01 , 0xFF , 0xFF , 0x00 , 0x01 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};


unsigned char ggg0[72] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0xFF , 0xFF , 0x00 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 
 , 0xF7 , 0x1F , 0x04 , 0x41 , 0x00 , 0x41 , 0x04 , 0x41 
 , 0xEE , 0xEF , 0x06 , 0x41 , 0x00 , 0x81 , 0x02 , 0x81 
 , 0xEE , 0xEF , 0x05 , 0x41 , 0x07 , 0x01 , 0x01 , 0x01 
 , 0xEE , 0xEF , 0x04 , 0xC1 , 0x00 , 0x81 , 0x02 , 0x81 
 , 0xF0 , 0x0F , 0x04 , 0x41 , 0x00 , 0x41 , 0x04 , 0x41 
 , 0xFF , 0xFF , 0x00 , 0x01 , 0x00 , 0x01 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};


unsigned char kma1_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x02 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x03 , 0xFF , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma2_0[152] = 
{
	 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x03 , 0x06 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x81 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x41 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x21 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x1E , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma3_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0x86 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xEE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma4_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0xE0 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x00 , 0x98 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x00 , 0x84 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x00 , 0x82 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x03 , 0xFF , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x80 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma4_5_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0xE0 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x00 , 0x98 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x00 , 0x84 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x00 , 0x82 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x03 , 0xFF , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x80 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma5_0[152] =
{
	 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma5_5_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma6_0[152] =
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xE2 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma6_5_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xE2 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma7_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x00 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x00 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x03 , 0xF1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x09 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x07 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma7_5_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x00 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x00 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x03 , 0xF1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x09 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x07 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0x1F , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xE1 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma8_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0xEE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xEE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

unsigned char kma9_0[152] = 
{
   0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x01 , 0x0E , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x94 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x11 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x88 , 0x02 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x84 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xBE , 0x02 , 0x01 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0xA2 , 0x01 , 0xFE , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0x80 , 0x00 , 0x00 , 0x00 , 0x80 , 0x00 , 0x00 , 0x01 
 , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF , 0xFF 
};

PUTCHAR_PROTOTYPE
{
    /* Write a character to the USART */  
    if( ch == '\n') {
        USART_SendData(USART1, '\r');
        while(USART_GetFlagStatus(USART1, USART_FLAG_TXE) == RESET);
        USART_SendData(USART1, '\n');
    }else {
        USART_SendData(USART1, (uint8_t) ch);
    }

    /* Loop until the end of transmission */
    while(USART_GetFlagStatus(USART1, USART_FLAG_TXE) == RESET);

    return ch;
}

void System_Information(void)
{
	RCC_ClocksTypeDef rcc_clocks;
	
	printf("USART1->BRR : 0x%08X\n", USART1->BRR);	
	
	RCC_GetClocksFreq(&rcc_clocks);
	printf("SYSCLK_Frequency = %d\n", rcc_clocks.SYSCLK_Frequency);
	printf("HCLK_Frequency = %d\n", rcc_clocks.HCLK_Frequency);
	printf("PCLK1_Frequency = %d\n", rcc_clocks.PCLK1_Frequency);
	printf("PCLK2_Frequency = %d\n", rcc_clocks.PCLK2_Frequency);
	printf("ADCCLK_Frequency = %d\n", rcc_clocks.ADCCLK_Frequency);
	
}

/*
static void delay_int_count(volatile unsigned int nTime)
{
    for(; nTime > 0; nTime--);
}

void delay_1_second(void)
{
    delay_int_count(806596);
}

void delay_100_milli_second(void)
{
    delay_int_count(80660);
}
*/

void Delay_Test(void)
{
	uint32_t i;
	
	for(i=0; i<20; i++)
	{
		delay_1_second();
		printf("%d sec\n", i);
	}
	
	printf("delay_test done!\n");
}


void GLCD_command(uint16_t signal, uint16_t command)
{
	GPIOC->BSRR |= signal & (CS1 | CS2);	//CS1, CS2 선택 및 1로 셋, EN, RS, RW 0으로 셋팅
	Delay(1);
	GPIOB->BSRR |= ((~command)<<16) | command ;	//데이터 셋 + 리셋
	GPIOC->BSRR |= EN;	// 인에이블 1
	Delay(1);
	GPIOC->BRR |= EN;	// 인에이블 0
	Delay(1);
	GPIOC->BRR |= CS1 | CS2 | RS | RW | EN;	//제어핀 초기화
  GPIOB->BRR |= GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12 | GPIO_Pin_13 | GPIO_Pin_14 | GPIO_Pin_15;	//데이터 핀 초기화
  Delay(1);	
}

void GLCD_data(uint16_t signal, uint16_t character)
{
	GPIOC->BSRR |= (signal & (CS1 | CS2)) | RS;	//EN, RW =>0, RS =>1
	Delay(1);
	GPIOB->BSRR |= ((~character)<<16) | character;
	GPIOC->BSRR |= EN;
	Delay(1);
	GPIOC->BRR |= EN;
	Delay(1);
	GPIOC->BRR |= CS1 | CS2 | RS | RW | EN;
  GPIOB->BRR |= GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12 | GPIO_Pin_13 | GPIO_Pin_14 | GPIO_Pin_15;        
	Delay(1);	
}

void GLCD_clear(void)
{
	volatile uint16_t i,j,x,k=0;
	
	GPIOC->BRR |= CS1 | CS2 | RS | RW | EN;
	GLCD_command((CS1|CS2), 0x3F00);
	GLCD_command((CS1|CS2), 0xC000);
	
	x=0xB800;
	for(i=0; i<=7; i++)
	{
		GLCD_command((CS1|CS2), x);
		GLCD_command((CS1|CS2), 0x4000);
		for(j=0; j<=63; j++)
		{
			GLCD_data((CS1|CS2), 0x0000);
		}
		x=x+0x0100;
	}
}


int main(void)
{

    RCC_Configuration();		//72MHz로 클록 설정

    NVIC_Configuration();		//인터럽트 벡터테이블 설정
        
    RCC->APB2ENR |= RCC_APB2Periph_GPIOA;		//EN 설정
    RCC->APB2ENR |= RCC_APB2Periph_GPIOB;
    RCC->APB2ENR |= RCC_APB2Periph_GPIOC;
    RCC->APB2ENR |= RCC_APB2Periph_USART1;
    
    GPIO_Configuration();		//GPIO 각 모드, CNF 설정
    
    EXTI_Configuration();

    USART1_Init();		


	
		if (SysTick_Config(72))		//SystemTimer 설정
		{
			while(1);			
		}


		
//GLCD 설정                
		GLCD_clear();
		
		//=========인트로 화면==================
		x=0xB800;
		for(j=1; j<=8; j++)
		{
			GLCD_command(CS1,x);
			GLCD_command(CS1,0x4000);
				
		  for(i=1; i<=64; i++)
		  {
				GLCD_data(CS1,intro0[8*i-j]<<8);
		  }
		  x=x+0x0100;
		}

		x=0xB800;
		for(j=1; j<=8; j++)
		{
			GLCD_command(CS2,x);
			GLCD_command(CS2,0x4000);
				
		  for(i=65; i<=128; i++)
		  {
				GLCD_data(CS2,intro0[8*i-j]<<8);
		  }
		  x=x+0x0100;
		}	
		
		Delay(3000000);
		
		//============================================
		
		
		
		

		//=========기본 인터페이스 화면==================
		x=0xB800;
		for(j=1; j<=8; j++)
		{
			GLCD_command(CS1,x);
			GLCD_command(CS1,0x4000);
				
		  for(i=1; i<=64; i++)
		  {
				GLCD_data(CS1,xaxis0[8*i-j]<<8);
		  }
		  x=x+0x0100;
		}

		x=0xB800;
		for(j=1; j<=8; j++)
		{
			GLCD_command(CS2,x);
			GLCD_command(CS2,0x4000);
				
		  for(i=65; i<=128; i++)
		  {
				GLCD_data(CS2,xaxis0[8*i-j]<<8);
		  }
		  x=x+0x0100;
		}	
		//============================================
    

    while(1)
    {
    	
    	while(1)
    	{
  			while(offset_start==0)
    		{
    			;
    		}
  			
  			
  			if(flag_uart==1)
  			{
  				tmp_start = start;
  					break;
  			/*UART로 보여주기	
  				tmp_data_x_uart = data_x[start];
  				tmp_data_x_lcd[start] = data_x[start];
      	
    			for(i=0;i<14;i++)
    			{
    				if(tmp_data_x_uart & 0x2000)
    					SerialPutChar('1');
    				else
    					SerialPutChar('0');
    				tmp_data_x_uart=tmp_data_x_uart<<1;
    			}
    			SerialPutChar(10);
    			SerialPutChar(13);
    				*/
    		}
    	}
    	
    	//data_x[i] 배열에 데이터 쉬프트하면서 저장하는동안에 가져오는것 방지 추가	
    	for(i=0;i<100;i++)
    	{
    		if(flag_uart==1)
    			tmp_data_x_lcd[i] = data_x[i];
    		else
    		{
    			while(flag_uart==0)
    			{	;	}
    			tmp_data_x_lcd[i] = data_x[i];
    		}
    		
    		if(flag_uart==1)
    			tmp_data_y_lcd[i] = data_y[i];
    		else
    		{
    			while(flag_uart==0)
    			{	;	}
    			tmp_data_y_lcd[i] = data_y[i];
    		}
    		
    		if(flag_uart==1)
    			tmp_data_z_lcd[i] = data_z[i];
    		else
    		{
    			while(flag_uart==0)
    			{	;	}
    			tmp_data_z_lcd[i] = data_z[i];
    		}
    	}
    	
    	
    	
    	
    	
    	
    	
    	for(i=0;i<100;i++)
    	{
				/*//=================부호 바뀔때 튀는거 해결하는 부분=====================================
    		if(i==99)
    		{
    			if((tmp_data_x_lcd[i]&0x2000)!=(tmp_data_x_lcd[0]&0x2000))
    			{
						if(tmp_data_x_lcd[0]&0x2000)
							tmp_data_x_lcd[i] = tmp_data_x_lcd[i] | 0x2000;
						else
							tmp_data_x_lcd[i] = tmp_data_x_lcd[i] & (~(0x2000));
    			}
    			
    			if((tmp_data_y_lcd[i]&0x2000)!=(tmp_data_y_lcd[0]&0x2000))
    			{
						if(tmp_data_y_lcd[0]&0x2000)
							tmp_data_y_lcd[i] = tmp_data_y_lcd[i] | 0x2000;
						else
							tmp_data_y_lcd[i] = tmp_data_y_lcd[i] & (~(0x2000));
    			}
    			
    			if((tmp_data_z_lcd[i]&0x2000)!=(tmp_data_z_lcd[0]&0x2000))
    			{
						if(tmp_data_z_lcd[0]&0x2000)
							tmp_data_z_lcd[i] = tmp_data_z_lcd[i] | 0x2000;
						else
							tmp_data_z_lcd[i] = tmp_data_z_lcd[i] & (~(0x2000));
    			}
    		}
    		else
    		{
    			if((tmp_data_x_lcd[i]&0x2000)!=(tmp_data_x_lcd[i+1]&0x2000))
    			{
						if(tmp_data_x_lcd[i+1]&0x2000)
							tmp_data_x_lcd[i] = tmp_data_x_lcd[i] | 0x2000;
						else
							tmp_data_x_lcd[i] = tmp_data_x_lcd[i] & (~(0x2000));
    			}
    			
    			if((tmp_data_y_lcd[i]&0x2000)!=(tmp_data_y_lcd[i+1]&0x2000))
    			{
						if(tmp_data_y_lcd[i+1]&0x2000)
							tmp_data_y_lcd[i] = tmp_data_y_lcd[i] | 0x2000;
						else
							tmp_data_y_lcd[i] = tmp_data_y_lcd[i] & (~(0x2000));
    			}
    			
    			if((tmp_data_z_lcd[i]&0x2000)!=(tmp_data_z_lcd[i+1]&0x2000))
    			{
						if(tmp_data_z_lcd[i+1]&0x2000)
							tmp_data_z_lcd[i] = tmp_data_z_lcd[i] | 0x2000;
						else
							tmp_data_z_lcd[i] = tmp_data_z_lcd[i] & (~(0x2000));
    			}
    		} 
    		*/
    		//================================================================================================
				
				//=======Z축 1g 빼기~^^===========================
    		if(!(tmp_data_z_lcd[i]&0x2000))	//양수이면
    		{
    			tmp_data_z_lcd[i] = tmp_data_z_lcd[i] + 0x3000;
    		}
    		else	//음수이면
    		{
    			if(tmp_data_z_lcd[i]&0x1000)	//1000보다 크면
    			{
    				tmp_data_z_lcd[i] = tmp_data_z_lcd[i] + 0x3000;
    			}
    			else	//1000보다 작으면
    			{
    				tmp_data_z_lcd[i] = 0x3001;
    			}
    		}
    		
    		//=================================================

    	}
    	
    	
    	/*//============offset elimination==================
    	
    	
    	if(offset_finish==0)
    	{
    		for(i=0;i<100;i++)
    		{
    			data_x_32 = tmp_data_x_lcd[i]<<18;
    			data_y_32 = tmp_data_y_lcd[i]<<18;
    			data_z_32 = tmp_data_z_lcd[i]<<18;
    			
    			data_x_32 = data_x_32/262144;
    			data_y_32 = data_y_32/262144;
    			data_z_32 = data_z_32/262144;
    			
    			sum_x = sum_x+data_x_32;
    			sum_y = sum_y+data_y_32;
    			sum_z = sum_z+data_z_32;
    		}
    		offset_finish=1;
    	}
    	
    	mean_x = sum_x/100;
    	mean_y = sum_y/100;
    	mean_z = sum_z/100;
    	
    	if(mean_x&0x8000)
    		mean_x = (mean_x|0x2000)&0x3FFF;
    	else
    		mean_x = mean_x&0x3FFF;
    		
    	if(mean_y&0x8000)
    		mean_y = (mean_y|0x2000)&0x3FFF;
    	else
    		mean_y = mean_y&0x3FFF;
    		
    	if(mean_z&0x8000)
    		mean_z = (mean_z|0x2000)&0x3FFF;
    	else
    		mean_z = mean_z&0x3FFF;
    	
    	for(i=0;i<100;i++)
    	{
    		tmp_data_x_lcd[i]=(tmp_data_x_lcd[i]+(~mean_x+1))&0x3FFF;
    		tmp_data_y_lcd[i]=(tmp_data_y_lcd[i]+(~mean_y+1))&0x3FFF;
    		tmp_data_z_lcd[i]=(tmp_data_z_lcd[i]+(~mean_z+1))&0x3FFF;
    	}
    	//=================================================
			*/
    	
    	//gal 배열에 +,- 구분해서 저장
    	for(i=0;i<100;i++)
    	{
    		if(tmp_data_x_lcd[i] & 0x2000)
    			tmp_gal_x[i] = (~tmp_data_x_lcd[i] + 1) & 0x1FFF;
    		else
    			tmp_gal_x[i] = tmp_data_x_lcd[i] & 0x1FFF;
    			
    		if(tmp_data_y_lcd[i] & 0x2000)
    			tmp_gal_y[i] = (~tmp_data_y_lcd[i] + 1) & 0x1FFF;
    		else
    			tmp_gal_y[i] = tmp_data_y_lcd[i] & 0x1FFF;
    		
    		if(tmp_data_z_lcd[i] & 0x2000)
    			tmp_gal_z[i] = (~tmp_data_z_lcd[i] + 1) & 0x1FFF;
    		else
    			tmp_gal_z[i] = tmp_data_z_lcd[i] & 0x1FFF;
    	}
    	
    	
    	for(i=0;i<100;i++)
    	{
    		//+-1g로 짜르기~^^============================================
    		if(!(tmp_data_x_lcd[i]&0x2000))	//양수이면
    		{
    			if(tmp_data_x_lcd[i]&0x1000)	//0FFF보다 크면
    			{
    				tmp_data_x_lcd[i] = 0x0FFF; //0FFF로 셋팅
    			}
    		}
    		else	//음수이면
    		{
    			if(!(tmp_data_x_lcd[i]&0x1000))	//1000보다 작으면
    			{
    				tmp_data_x_lcd[i] = 0x3001;	//-1001로 셋팅
    			}
    			
    		}
    		
    		if(!(tmp_data_y_lcd[i]&0x2000))
    		{
    			if(tmp_data_y_lcd[i]&0x1000)
    			{
    				tmp_data_y_lcd[i] = 0x0FFF; 
    			}
    		}
    		else
    		{
    			if(!(tmp_data_y_lcd[i]&0x1000))
    			{
    				tmp_data_y_lcd[i] = 0x3001;
    			}
    			
    		}
    		
    		if(!(tmp_data_z_lcd[i]&0x2000))
    		{
    			if(tmp_data_z_lcd[i]&0x1000)
    			{
    				tmp_data_z_lcd[i] = 0x0FFF; 
    			}
    		}
    		else
    		{
    			if(!(tmp_data_z_lcd[i]&0x1000))
    			{
    				tmp_data_z_lcd[i] = 0x3001;
    			}
    			
    		}  		

    		//============================================================
    	}
    	
    	
    	
    	/*	튀는거 죽이기
    	if(abs(tmp_gal_x[0]-tmp_gal_x[99])>3500)
    			tmp_data_x_lcd[0] = tmp_data_x_lcd[99];
    		else
    			tmp_data_x_lcd[0] = tmp_data_x_lcd[0];
    	
    	for(i=1;i<100;i++)
    	{
    		if(abs(tmp_gal_x[i]-tmp_gal_x[i-1])>3500)
    			tmp_data_x_lcd[i] = tmp_data_x_lcd[i-1];
    		else
    			tmp_data_x_lcd[i] = tmp_data_x_lcd[i];
    	}
    	*/
    	
    	//gal 값 계산
    	for(i=0;i<100;i++)
    	{
        tmp_gal = (sqrt(((tmp_gal_x[i]/4)*(tmp_gal_x[i]/4)) + ((tmp_gal_y[i]/4)*(tmp_gal_y[i]/4)) + ((tmp_gal_z[i]/4)*(tmp_gal_z[i]/4))));
    		
    		/*
    		if(tmp_gal > 3900)
    			data_g[i] = 3900;
    		else
    		*/
    		data_g[i] = (int)tmp_gal;
    	}
    	    	
    	
    	
    	/*//진도 튀는거 임시로 해결====
    	if(tmp_start==0)
    	{
    		tmp_start=99;    		
    	}
    	else
    	{
    		tmp_start=tmp_start-1;
    	}
    	//===========================
    	*/
    	
    	//uart로 보기
    	/*
    	tmp_uart_x = (tmp_data_x_lcd[tmp_start]<<18)/262144;
    	tmp_uart_y = (tmp_data_y_lcd[tmp_start]<<18)/262144;
    	tmp_uart_z = (tmp_data_z_lcd[tmp_start]<<18)/262144;
    	
    	printf("%d,		%d,		%d\n", tmp_uart_x, tmp_uart_y, tmp_uart_z);
    	*/
    	
    	/*
    						tmp_uart = tmp_gal_x[tmp_start]/1000;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = (tmp_gal_x[tmp_start]%1000)/100;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = (tmp_gal_x[tmp_start]%100)/10;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = tmp_gal_x[tmp_start]%10;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								SerialPutChar(32);
    	*/
    	
    	
    	/*
    	for(j=0;j<10;j++)
    	{
    		if((tmp_start-j)<0)
    		{
    			current=99-(j-tmp_start-1);    			
    		}
    		else
    			current=tmp_start-j;
    		
    		if(data_g[current] > max_gal)
    			max_gal = data_g[current];
    		else
    			max_gal = max_gal;
    	}
    	*/
    	
    	max_gal = 0;
    	
    	for(i=0;i<99;i++)
    	{
    		if(data_g[i+1]>data_g[i])
    		{
    			max_gal = data_g[i+1];
    		}
    		else
    		{
    			max_gal = max_gal;
    		}
    		
    	}
    	
    	
    	//진도 결정
    	if((max_gal>=0)&&(max_gal<=1))	//KMA 1
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma1_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
			}
			else if((max_gal>1)&&(max_gal<=2))	//KMA 2
			{
				x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma2_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}				
			}
			else if((max_gal>2)&&(max_gal<=5))	//KMA 3
			{
				x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma3_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
			}
      else if((max_gal>5)&&(max_gal<=20))	//KMA 4
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma4_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>20)&&(max_gal<=30))	//KMA 4.5
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma4_5_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>30)&&(max_gal<=40))	//KMA 5
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma5_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>40)&&(max_gal<=60))	//KMA 5.5
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma5_5_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>60)&&(max_gal<=70))	//KMA 6
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma6_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>70)&&(max_gal<=100))	//KMA 6.5
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma6_5_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>100)&&(max_gal<=150))	//KMA 7
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma7_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>150)&&(max_gal<=250))	//KMA 7.5
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma7_5_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
      else if((max_gal>250)&&(max_gal<=300))	//KMA 8
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma8_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
			}
			else if(max_gal>300)	//KMA 9
      {
      	x=0xB800;
				for(j=1; j<=8; j++)
				{
					GLCD_command(CS2,x);
					GLCD_command(CS2,0x6D00);
						
 				  for(i=1; i<=19; i++)
				  {
						GLCD_data(CS2,kma9_0[8*i-j]<<8);
				  }
				  x=x+0x0100;
				}
      }
    	
    	//===========기차제어=======================
    	for(j=0;j<10;j++)
    	{
    		if((tmp_start-j)<0)
    		{
    			current=99-(j-tmp_start-1);    			
    		}
    		else
    			current=tmp_start-j;
    		
    		sum_gal = sum_gal + data_g[current];	
    	}
    	mean_gal = sum_gal/10;
    	sum_gal = 0;
    	    	
    	if(mean_gal>120)
    		GPIOA->BSRR |= 0x0100;
    	//else
    	//	GPIOA->BRR |= 0x0100;
    	//==========================================
    	
			
    	/*//tmp_start 돌리기 (진도 튀는거 임시방편)
    	if(tmp_start==99)
    	{
    		tmp_start = 0;
    	}
    	else
    	{
    		tmp_start = tmp_start + 1;
    	}
    	//======================================
			*/
    	
    	/*
    	for(i=0;i<14;i++)
    	{
    		if(tmp_data_x_lcd[tmp_start] & 0x2000)
    			SerialPutChar('1');
    		else
    			SerialPutChar('0');    		
    		tmp_data_x_lcd[tmp_start] = tmp_data_x_lcd[tmp_start]<<1;
    	}
    	SerialPutChar(0x20);
    	
    	for(i=0;i<14;i++)
    	{
    		if(tmp_data_y_lcd[tmp_start] & 0x2000)
    			SerialPutChar('1');
    		else
    			SerialPutChar('0');    		
    		tmp_data_y_lcd[tmp_start] = tmp_data_y_lcd[tmp_start]<<1;
    	}
    	SerialPutChar(0x20);
    	
    	
    	for(i=0;i<14;i++)
    	{
    		if(tmp_data_z_lcd[tmp_start] & 0x2000)
    			SerialPutChar('1');
    		else
    			SerialPutChar('0');    		
    		tmp_data_z_lcd[tmp_start] = tmp_data_z_lcd[tmp_start]<<1;
    	}
    	SerialPutChar(10);
    	SerialPutChar(13);
    		*/
    	
    	//tmp_start는 현재 start위치
    	
    	//display 모드 설정 x,y,z축 gal값 모드
    	
    		switch(mode)
        {
        case 0:
        			//버튼 plot
							x=0xB800;
							for(j=1; j<=8; j++)
							{
								GLCD_command(CS1,x);
								GLCD_command(CS1,0x4000);
									
							  for(i=1; i<=9; i++)
							  {
									GLCD_data(CS1,xxx0[8*i-j]<<8);
							  }
							  x=x+0x0100;
							}
							
							
							
							//x 파형 plot
							for(j=0;j<100;j++)
    					{
    						if((tmp_start-j)<0)
    						{
    							current=99-(j-tmp_start-1);
    						}
    						else
    							current=tmp_start-j;
    						
    						tmp = tmp_data_x_lcd[current];	
    						
    						if(j>54)
    						{
    							CS = CS2;
    							yadd_off = 0x4000;
    						}
    						else
    						{
    							CS = CS1;
    							yadd_off = 0x4900;
    						}
        				/*
        				//================튀는거 수정하는 부분===================================
        				if((current+1)==99)
        					next=0;
        				else
        					next=current+1;
								
								if(current != tmp_start)
								{
									if((tmp_data_x_lcd[next]&0x2000)!=(tmp_data_x_lcd[current]&0x2000))
									{
										if(tmp_data_x_lcd[next]&0x2000)
											tmp = tmp | 0x2000;
										else
											tmp = tmp & (~(0x2000));
									}
								}
								//=======================================================================
								*/
								
								
    						if(tmp & 0x2000)
    						{
    							tmp = (~tmp+1) & 0x1FFF;
    							sign = 1;
    						}
    						else
    						{
    							tmp = tmp & 0x1FFF;
    							sign = 0;
    						}
    					
    						disp = tmp / 128;
    						
/*
    						//==============uart보내는거 테스트========================

								tmp_uart = tmp/1000;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = (tmp%1000)/100;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = (tmp%100)/10;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								tmp_uart = tmp%10;
								switch(tmp_uart)
								{
									case 0:SerialPutChar('0');
										break;
									case 1:SerialPutChar('1');
										break;
									case 2:SerialPutChar('2');
										break;
									case 3:SerialPutChar('3');
										break;
									case 4:SerialPutChar('4');
										break;
									case 5:SerialPutChar('5');
										break;
									case 6:SerialPutChar('6');
										break;
									case 7:SerialPutChar('7');
										break;
									case 8:SerialPutChar('8');
										break;
									case 9:SerialPutChar('9');
										break;
									default:SerialPutChar('X');
										break;
								}
								
								SerialPutChar(32);
								//================================================
*/
    						if(sign==0)
    						{
    							GLCD_command(CS, 0xB800+((3-(disp/8))<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, (0xFF00<<(7-(disp%8)))&0xFF00);
    							
    							for(i=0xBB00; i>(0xB800+((3-(disp/8))<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);
    							}
    							for(i=0xB800; i<(0xB800+((3-(disp/8))<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    							for(i=0xBC00; i<0xC000; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    						}
    						else
    						{
    							GLCD_command(CS, 0xBC00 + ((disp/8)<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, 0x00FF<<(disp%8+1));
    							
    							for(i=0xBC00; i<(0xBC00 + ((disp/8)<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);    				
    							}
    							
    							for(i=0xBF00; i>(0xBC00 + ((disp/8)<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    							for(i=0xB800; i<0xBC00; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    						}
    						
    					}
    		/*		
    					SerialPutChar(13);
    					SerialPutChar(10);
    							*/
    					break;
    					
        			
        case 1:
        			//버튼 plot
        			x=0xB800;
							for(j=1; j<=8; j++)
							{
								GLCD_command(CS1,x);
								GLCD_command(CS1,0x4000);
									
							  for(i=1; i<=9; i++)
							  {
									GLCD_data(CS1,yyy0[8*i-j]<<8);
							  }
							  x=x+0x0100;
							}
							
							//파형 plot
							for(j=0;j<100;j++)
    					{
    						if((tmp_start-j)<0)
    						{
    							current=99-(j-tmp_start-1);    			
    						}
    						else
    							current=tmp_start-j;
    						
    						tmp = tmp_data_y_lcd[current];	
    						
    						if(j>54)
    						{
    							CS = CS2;
    							yadd_off = 0x4000;
    						}
    						else
    						{
    							CS = CS1;
    							yadd_off = 0x4900;
    						}
    						/*
    						//================튀는거 수정하는 부분===================================
        				if((current+1)==99)
        					next=0;
        				else
        					next=current+1;
								
								if(current != tmp_start)
								{
									if((tmp_data_y_lcd[next]&0x2000)!=(tmp_data_y_lcd[current]&0x2000))
									{
										if(tmp_data_y_lcd[next]&0x2000)
											tmp = tmp | 0x2000;
										else
											tmp = tmp & (~(0x2000));
									}
								}
								//=======================================================================
    						 */   						
    						
    						if(tmp & 0x2000)
    						{
    							tmp = (~tmp+1) & 0x1FFF;
    							sign = 1;
    						}
    						else
    						{
    							tmp = tmp & 0x1FFF;
    							sign = 0;
    						}
    						
    						disp = tmp / 128;
    						    						
    					  /*  						
    						if(disp==31)
    							disp=0;
    						*/
    						    						
    						if(sign==0)
    						{
    							GLCD_command(CS, 0xB800+((3-(disp/8))<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, (0xFF00<<(7-(disp%8)))&0xFF00);
    							
    							for(i=0xBB00; i>(0xB800+((3-(disp/8))<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);
    							}
    							for(i=0xB800; i<(0xB800+((3-(disp/8))<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);    				
    							}
    							
    							for(i=0xBC00; i<0xC000; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    						}
    						else
    						{
    							GLCD_command(CS, 0xBC00 + ((disp/8)<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, 0x00FF<<(disp%8+1));
    							
    							for(i=0xBC00; i<(0xBC00 + ((disp/8)<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);    				
    							}
    							
    							for(i=0xBF00; i>(0xBC00 + ((disp/8)<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    							for(i=0xB800; i<0xBC00; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    						}
    						
    					}
        			break;
        			
        			
        case 2:
        			//버튼 plot
        			x=0xB800;
							for(j=1; j<=8; j++)
							{
								GLCD_command(CS1,x);
								GLCD_command(CS1,0x4000);
									
							  for(i=1; i<=9; i++)
							  {
									GLCD_data(CS1,zzz0[8*i-j]<<8);
							  }
							  x=x+0x0100;
							}
							
							//파형 plot
							for(j=0;j<100;j++)
    					{
    						if((tmp_start-j)<0)
    						{
    							current=99-(j-tmp_start-1);    			
    						}
    						else
    							current=tmp_start-j;
    						
    						tmp = tmp_data_z_lcd[current];	
    						
    						if(j>54)
    						{
    							CS = CS2;
    							yadd_off = 0x4000;
    						}
    						else
    						{
    							CS = CS1;
    							yadd_off = 0x4900;
    						}
    						
    						/*
    						//================튀는거 수정하는 부분===================================
        				if((current+1)==99)
        					next=0;
        				else
        					next=current+1;
								
								if(current != tmp_start)
								{
									if((tmp_data_z_lcd[next]&0x2000)!=(tmp_data_z_lcd[current]&0x2000))
									{
										if(tmp_data_z_lcd[next]&0x2000)
											tmp = tmp | 0x2000;
										else
											tmp = tmp & (~(0x2000));
									}
								}
								//=======================================================================
    						*/
    							
    						
    						if(tmp & 0x2000)
    						{
    							tmp = (~tmp+1) & 0x1FFF;
    							sign = 1;
    						}
    						else
    						{
    							tmp = tmp & 0x1FFF;
    							sign = 0;
    						}
    						
    						disp = tmp / 128;
    						
    						/*
    						if(disp==31)
    							disp=0;
    						*/
    						    						
    						if(sign==0)
    						{
    							GLCD_command(CS, 0xB800+((3-(disp/8))<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, (0xFF00<<(7-(disp%8)))&0xFF00);
    							
    							for(i=0xBB00; i>(0xB800+((3-(disp/8))<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);
    							}
    							for(i=0xB800; i<(0xB800+((3-(disp/8))<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);    				
    							}
    							
    							for(i=0xBC00; i<0xC000; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    						}
    						else
    						{
    							GLCD_command(CS, 0xBC00 + ((disp/8)<<8));
    							GLCD_command(CS, yadd_off + ((j%55)<<8));
    							GLCD_data(CS, 0x00FF<<(disp%8+1));
    							
    							for(i=0xBC00; i<(0xBC00 + ((disp/8)<<8)); i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0xFF00);    				
    							}
    							
    							for(i=0xBF00; i>(0xBC00 + ((disp/8)<<8)); i=i-0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    							
    							for(i=0xB800; i<0xBC00; i=i+0x0100)
    							{
    								GLCD_command(CS, i);
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, 0x0000);
    							}
    						}
    						
    					}				
              break;
              
              
        case 3:
       				//버튼 plot
       						x=0xB800;
									for(j=1; j<=8; j++)
									{
										GLCD_command(CS1,x);
										GLCD_command(CS1,0x4000);
											
									  for(i=1; i<=9; i++)
									  {
											GLCD_data(CS1,ggg0[8*i-j]<<8);
									  }
									  x=x+0x0100;
									}
									
									//파형 plot
									for(j=0;j<100;j++)
    							{
    								if((tmp_start-j)<0)
    								{
    									current=99-(j-tmp_start-1);    			
    								}
    								else
    									current=tmp_start-j;
    								
    								tmp = data_g[current];	
    								
    								if(j>54)
    								{
    									CS = CS2;
    									yadd_off = 0x4000;
    								}
    								else
    								{
    									CS = CS1;
    									yadd_off = 0x4900;
    								}
       							
       							
       							/*
       							//================튀는거 수정하는 부분===================================
        						if((current+1)==99)
        							next=0;
        						else
        							next=current+1;
										
										if(current != tmp_start)
										{
											if((data_g[next]&0x2000)!=(data_g[current]&0x2000))
											{
												if(data_g[next]&0x2000)
													tmp = tmp | 0x2000;
												else
													tmp = tmp & (~(0x2000));
											}
										}
										//=======================================================================
       				
    								
    								if(tmp & 0x2000)
    								{
    									tmp = (~tmp+1) & 0x1FFF;
    									sign = 1;
    								}
    								else
    								{
    									tmp = tmp & 0x1FFF;
    									sign = 0;
    								}
    								*/
    								
    								disp = tmp / 128;
    								
    								
    								if(disp>31)
    									disp=31;
    								    			
	   								GLCD_command(CS, 0xB800+((7-(disp/8))<<8));
    								GLCD_command(CS, yadd_off + ((j%55)<<8));
    								GLCD_data(CS, (0xFF00<<(7-(disp%8)))&0xFF00);
    								
    								for(i=0xBF00; i>(0xB800+((7-(disp/8))<<8)); i=i-0x0100)
    								{
    									GLCD_command(CS, i);
    									GLCD_command(CS, yadd_off + ((j%55)<<8));
    									GLCD_data(CS, 0xFF00);
    								}
    								 
    								for(i=0xB800; i<(0xB800+((7-(disp/8))<<8)); i=i+0x0100)
    								{
    									GLCD_command(CS, i);
    									GLCD_command(CS, yadd_off + ((j%55)<<8));
    									GLCD_data(CS, 0x0000);    				
    								}
  								}
  								break;
       }		

    }	
}
